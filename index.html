<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Fly Clicker VIP</title>
    <script src="https://telegram.org"></script>
    <style>
        body { margin: 0; padding: 0; background: #2c3e50; overflow: hidden; font-family: sans-serif; user-select: none; }
        #ui { position: absolute; top: 10px; width: 100%; text-align: center; color: #ecf0f1; font-size: 28px; z-index: 5; pointer-events: none; }
        .fly { 
            position: absolute; width: 70px; height: 70px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 45px; cursor: pointer; transition: transform 0.1s;
        }
    </style>
</head>
<body>
    <div id="ui">–°—á–µ—Ç: <span id="score">0</span></div>
    <div id="game-canvas" style="width: 100vw; height: 100vh;"></div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.MainButton.setText("–°–û–•–†–ê–ù–ò–¢–¨ –†–ï–ö–û–†–î").show();

        let score = 0;
        const scoreDisplay = document.getElementById('score');
        const canvas = document.getElementById('game-canvas');

        function spawnFly() {
            const fly = document.createElement('div');
            fly.className = 'fly';
            
            // –¢–≤–æ–π –º–µ—Ç–æ–¥: —Å–æ–∑–¥–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π —É–∑–µ–ª –≤—Ä—É—á–Ω—É—é
            const flyIcon = document.createTextNode("ü™∞");
            fly.appendChild(flyIcon);

            const x = Math.random() * (window.innerWidth - 80) + 10;
            const y = Math.random() * (window.innerHeight - 150) + 80;
            fly.style.left = x + 'px';
            fly.style.top = y + 'px';

            fly.onclick = function() {
                score++;
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º textContent –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
                scoreDisplay.textContent = score;
                canvas.removeChild(fly);
                spawnFly();
            };
            canvas.appendChild(fly);
        }

        tg.onEvent('mainButtonClicked', function() {
            tg.sendData(score.toString());
            tg.close();
        });

        spawnFly();
    </script>
</body>
</html>
